<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>좌표 지도 뷰어 (무료 · 클러스터링)</title>

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div class="topbar">
    <div class="brand">좌표 지도 뷰어</div>

    <label class="field">
      <span>CSV URL</span>
      <input id="csvUrl" type="url" placeholder="Google Sheets 게시 CSV URL" />
    </label>

    <button id="loadBtn" class="btn">불러오기</button>

    <div class="divider"></div>

    <label class="field">
      <span>레코드Id 검색</span>
      <input id="idSearch" type="text" placeholder="예: a2jTJ000000E93WYAS" />
    </label>
    <button id="goBtn" class="btn secondary">이동</button>

    <div class="spacer"></div>

    <label class="field small">
      <span>표시</span>
      <select id="statusFilter">
        <option value="all">전체</option>
        <option value="1">status=1</option>
        <option value="0">status=0</option>
      </select>
    </label>
  </div>

  <div id="map"></div>

  <div id="loading" class="loading hidden" aria-live="polite">
    <div class="card">
      <div class="title">데이터 불러오는 중…</div>
      <div id="loadingText" class="desc">시작하는 중</div>
      <div class="hint">팁: Google Sheets는 “웹에 게시(Publish)”된 CSV URL을 사용하시면 됩니다.</div>
    </div>
  </div>

  <div class="footer">
    <span id="stats">대기 중</span>
    <span class="dot">•</span>
    <span>Leaflet + OSM + Supercluster</span>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <script src="https://unpkg.com/papaparse@5.4.1/papaparse.min.js"></script>
  <script src="https://unpkg.com/supercluster@8.0.1/dist/supercluster.min.js"></script>
  <script src="./app.js"></script>
</body>
</html>
